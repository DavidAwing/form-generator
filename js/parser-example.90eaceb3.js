(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["parser-example"],{"09a4":function(e,r,t){"use strict";var o=t("9c82"),_=t.n(o);_.a},2638:function(e,r,t){"use strict";function o(){return o=Object.assign||function(e){for(var r,t=1;t<arguments.length;t++)for(var o in r=arguments[t],r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o]);return e},o.apply(this,arguments)}var _=["attrs","props","domProps"],n=["class","style","directives"],a=["on","nativeOn"],i=function(e){return e.reduce((function(e,r){for(var t in r)if(e[t])if(-1!==_.indexOf(t))e[t]=o({},e[t],r[t]);else if(-1!==n.indexOf(t)){var i=e[t]instanceof Array?e[t]:[e[t]],s=r[t]instanceof Array?r[t]:[r[t]];e[t]=i.concat(s)}else if(-1!==a.indexOf(t))for(var c in r[t])if(e[t][c]){var u=e[t][c]instanceof Array?e[t][c]:[e[t][c]],f=r[t][c]instanceof Array?r[t][c]:[r[t][c]];e[t][c]=u.concat(f)}else e[t][c]=r[t][c];else if("hook"==t)for(var m in r[t])e[t][m]=e[t][m]?l(e[t][m],r[t][m]):r[t][m];else e[t]=r[t];else e[t]=r[t];return e}),{})},l=function(e,r){return function(){e&&e.apply(this,arguments),r&&r.apply(this,arguments)}};e.exports=i},"4df4":function(e,r,t){"use strict";var o=t("0366"),_=t("7b0b"),n=t("9bdd"),a=t("e95a"),i=t("50c4"),l=t("8418"),s=t("35a1");e.exports=function(e){var r,t,c,u,f,m,d=_(e),p="function"==typeof this?this:Array,h=arguments.length,b=h>1?arguments[1]:void 0,g=void 0!==b,y=s(d),E=0;if(g&&(b=o(b,h>2?arguments[2]:void 0,2)),void 0==y||p==Array&&a(y))for(r=i(d.length),t=new p(r);r>E;E++)m=g?b(d[E],E):d[E],l(t,E,m);else for(u=y.call(d),f=u.next,t=new p;!(c=f.call(u)).done;E++)m=g?n(u,b,[c.value,E],!0):c.value,l(t,E,m);return t.length=E,t}},"9c82":function(e,r,t){},a630:function(e,r,t){var o=t("23e7"),_=t("4df4"),n=t("1c7e"),a=!n((function(e){Array.from(e)}));o({target:"Array",stat:!0,forced:a},{from:_})},b8fa:function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"test-form"},[t("parser",{attrs:{"form-conf":e.formConf},on:{submit:e.sumbitForm1}}),t("parser",{key:e.key2,attrs:{"form-conf":e.formConf},on:{submit:e.sumbitForm2}}),t("el-button",{on:{click:e.change}},[e._v(" change ")])],1)},_=[];t("99af"),t("4160"),t("d81d"),t("d3b7"),t("4d63"),t("ac1f"),t("25f0"),t("159b");function n(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function a(e){if(Array.isArray(e))return n(e)}t("a4d3"),t("e01a"),t("d28b"),t("a630"),t("3ca3"),t("ddb0");function i(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}t("fb6a"),t("b0c0");function l(e,r){if(e){if("string"===typeof e)return n(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?n(e,r):void 0}}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(e){return a(e)||i(e)||l(e)||s()}var u,f,m=t("f50d"),d=m["a"],p=t("2877"),h=Object(p["a"])(d,u,f,!1,null,null,null),b=h.exports,g={KB:1024,MB:1048576,GB:1073741824},y={components:{Parser:b},props:{},data:function(){return{key2:+new Date,formConf:{fields:[{__config__:{label:"单行文本",labelWidth:null,showLabel:!0,changeTag:!0,tag:"el-input",tagIcon:"input",required:!0,layout:"colFormItem",span:24,document:"https://element.eleme.cn/#/zh-CN/component/input",regList:[{pattern:"/^1(3|4|5|7|8|9)\\d{9}$/",message:"手机号格式错误"}]},__slot__:{prepend:"",append:""},__vModel__:"mobile",placeholder:"请输入手机号",style:{width:"100%"},clearable:!0,"prefix-icon":"el-icon-mobile","suffix-icon":"",maxlength:11,"show-word-limit":!0,readonly:!1,disabled:!1},{__config__:{label:"上传",tag:"el-upload",tagIcon:"upload",layout:"colFormItem",defaultValue:null,showLabel:!0,labelWidth:null,required:!0,span:24,showTip:!1,buttonText:"点击上传",regList:[],changeTag:!0,fileSize:2,sizeUnit:"MB",document:"https://element.eleme.cn/#/zh-CN/component/upload",formId:101,renderKey:1644834179356},__slot__:{"list-type":!0},action:"https://qcl871.api.cloudendpoint.cn/upload",disabled:!1,accept:"image/*",name:"file","auto-upload":!0,"list-type":"picture-card",multiple:!1,__vModel__:"imgList"},{__config__:{layout:"rowFormItem",tagIcon:"row",label:"行容器",layoutTree:!0,children:[{__config__:{label:"评分",tag:"el-rate",tagIcon:"rate",defaultValue:0,span:24,showLabel:!0,labelWidth:null,layout:"colFormItem",required:!0,regList:[],changeTag:!0,document:"https://element.eleme.cn/#/zh-CN/component/rate",formId:102,renderKey:1586839671259},style:{},max:5,"allow-half":!1,"show-text":!1,"show-score":!1,disabled:!1,__vModel__:"rate"}],document:"https://element.eleme.cn/#/zh-CN/component/layout",formId:101,span:24,renderKey:1586839668999,componentName:"row101",gutter:15},type:"default",justify:"start",align:"top"},{__config__:{label:"按钮",showLabel:!0,changeTag:!0,labelWidth:null,tag:"el-button",tagIcon:"button",span:24,layout:"colFormItem",document:"https://element.eleme.cn/#/zh-CN/component/button",renderKey:1594288459289},__slot__:{default:"测试按钮1"},type:"primary",icon:"el-icon-search",round:!1,size:"medium",plain:!1,circle:!1,disabled:!1,on:{click:"clickTestButton1"}}],__methods__:{clickTestButton1:function(){console.log("%c【测试按钮1】点击事件里可以访问当前表单：\n                1) formModel='formData', 所以this.formData可以拿到当前表单的model\n                2) formRef='elForm', 所以this.$refs.elForm可以拿到当前表单的ref(vue组件)\n              ","color:#409EFF;font-size: 15px"),console.log("表单的Model：",this.formData),console.log("表单的ref：",this.$refs.elForm)}},formRef:"elForm",formModel:"formData",size:"small",labelPosition:"right",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!0,unFocusedComponentBorder:!1},formConf2:{fields:[{__config__:{label:"单行文本",labelWidth:null,showLabel:!0,changeTag:!0,tag:"el-input",tagIcon:"input",required:!0,layout:"colFormItem",span:24,document:"https://element.eleme.cn/#/zh-CN/component/input",regList:[{pattern:"/^1(3|4|5|7|8|9)\\d{9}$/",message:"手机号格式错误"}]},__slot__:{prepend:"",append:""},__vModel__:"mobile",placeholder:"请输入手机号",style:{width:"100%"},clearable:!0,"prefix-icon":"el-icon-mobile","suffix-icon":"",maxlength:11,"show-word-limit":!0,readonly:!1,disabled:!1}],formRef:"elForm",formModel:"formData",size:"small",labelPosition:"right",labelWidth:100,formRules:"rules",gutter:15,disabled:!1,span:24,formBtns:!0,unFocusedComponentBorder:!1}}},computed:{},watch:{},created:function(){},mounted:function(){var e=this;fetch("https://qcl871.api.cloudendpoint.cn/fillFormData").then((function(e){return e.json()})).then((function(r){0===r.code&&(e.fillFormData(e.formConf.fields,e.formConf,r.data),e.key2=+new Date)}))},methods:{fillFormData:function(e,r,t){var o=this,_=r.formModel,n=r.formRef;e.forEach((function(e,a){var i=e.__vModel__,l=t[i];"el-upload"===e.__config__.tag&&(e["file-list"]=(l||[]).map((function(e){return{name:"".concat(i).concat(a),url:e}})),e.headers||(e.headers={}),e["on-success"]=function(e){if(0===e.code){var r=this[_][i]||[];this.$set(this[_],i,[].concat(c(r),[e.data])),this.$refs[n].validateField(i)}},e["on-remove"]=function(e,r){this.$set(this[_],i,r.map((function(e){return e.response?e.response.data:e.url}))),this.$refs[n].validateField(i)},e["before-upload"]=function(r){var t=this,o=e.__config__,_=!0,n=!0;return e.accept&&(n=new RegExp("".concat(e.accept)).test(r.type),n||setTimeout((function(){t.$message({message:"应该选择".concat(e.accept,"类型的文件"),type:"warning"})}))),o.fileSize&&(_=r.size/g[o.sizeUnit]<o.fileSize,_||setTimeout((function(){t.$message({message:"文件大小超过 ".concat(o.fileSize).concat(o.sizeUnit),type:"warning"})}))),_&&n}),l&&(e.__config__.defaultValue=l),Array.isArray(e.__config__.children)&&o.fillFormData(e.__config__.children,r,t)}))},change:function(){this.key2=+new Date;var e=this.formConf;this.formConf=this.formConf2,this.formConf2=e},sumbitForm1:function(e){console.log("sumbitForm1提交数据：",e)},sumbitForm2:function(e){console.log("sumbitForm2提交数据：",e)}}},E=y,v=(t("09a4"),Object(p["a"])(E,o,_,!1,null,"157baa17",null));r["default"]=v.exports},f50d:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4160"),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("d81d"),core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_map__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("b64b"),core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_object_keys__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_3__),_home_runner_work_form_generator_form_generator_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("ade3"),_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("2638"),_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_5__),_home_runner_work_form_generator_form_generator_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("5530"),_utils_index__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("ed08"),_components_render_render_js__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("4758"),ruleTrigger={"el-input":"blur","el-input-number":"blur","el-select":"change","el-upload":"change","el-radio-group":"change","el-checkbox-group":"change","el-cascader":"change","el-time-picker":"change","el-date-picker":"change","el-rate":"change"},layouts={colFormItem:function(e,r){var t=r.__config__,o=buildListeners.call(this,r),_=t.labelWidth?"".concat(t.labelWidth,"px"):null;return!1===t.showLabel&&(_="0"),e("el-col",{attrs:{span:t.span}},[e("el-form-item",{attrs:{"label-width":_,prop:r.__vModel__,label:t.showLabel?t.label:""}},[e(_components_render_render_js__WEBPACK_IMPORTED_MODULE_8__["a"],{attrs:{conf:r},on:Object(_home_runner_work_form_generator_form_generator_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_6__["a"])({},o)})])])},rowFormItem:function(e,r){var t=renderChildren.apply(this,arguments);return"flex"===r.type&&(t=e("el-row",{attrs:{type:r.type,justify:r.justify,align:r.align}},[t])),e("el-col",{attrs:{span:r.span}},[e("el-row",{attrs:{gutter:r.gutter}},[t])])}};function renderFrom(e){var r=this.formConfCopy;return e("el-row",{attrs:{gutter:r.gutter}},[e("el-form",_vue_babel_helper_vue_jsx_merge_props__WEBPACK_IMPORTED_MODULE_5___default()([{attrs:{size:r.size,"label-position":r.labelPosition,disabled:r.disabled,"label-width":"".concat(r.labelWidth,"px")},ref:r.formRef},{props:{model:this[r.formModel]}},{attrs:{rules:this[r.formRules]}}]),[renderFormItem.call(this,e,r.fields),r.formBtns&&formBtns.call(this,e)])])}function formBtns(e){return e("el-col",[e("el-form-item",{attrs:{size:"large"}},[e("el-button",{attrs:{type:"primary"},on:{click:this.submitForm}},["提交"]),e("el-button",{on:{click:this.resetForm}},["重置"])])])}function renderFormItem(e,r){var t=this;return r.map((function(r){var o=r.__config__,_=layouts[o.layout];if(_)return _.call(t,e,r);throw new Error("没有与".concat(o.layout,"匹配的layout"))}))}function renderChildren(e,r){var t=r.__config__;return Array.isArray(t.children)?renderFormItem.call(this,e,t.children):null}function setValue(e,r,t){this.$set(r,"defaultValue",e),this.$set(this[this.formConf.formModel],t.__vModel__,e)}function buildListeners(e){var r=this,t=e.__config__,o=this.formConf.__methods__||{},_={};return Object.keys(o).forEach((function(e){_[e]=function(t){return o[e].call(r,t)}})),_.input=function(o){return setValue.call(r,o,t,e)},_}function bindFunctionInAttr(e){var r=this;Object.keys(e).forEach((function(t){"function"===typeof e[t]&&(e[t]=e[t].bind(r))}))}__webpack_exports__["a"]={components:{render:_components_render_render_js__WEBPACK_IMPORTED_MODULE_8__["a"]},props:{formConf:{type:Object,required:!0},disabled:{type:Boolean}},data:function(){var e,r=(e={formConfCopy:Object(_utils_index__WEBPACK_IMPORTED_MODULE_7__["b"])(this.formConf)||{}},Object(_home_runner_work_form_generator_form_generator_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__["a"])(e,this.formConf.formModel,{}),Object(_home_runner_work_form_generator_form_generator_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_4__["a"])(e,this.formConf.formRules,{}),e);return this.initFormData(r.formConfCopy.fields,r[this.formConf.formModel]),this.buildRules(r.formConfCopy.fields,r[this.formConf.formRules]),r},watch:{disabled:{handler:function(e){this.formConfCopy.disabled=e},immediate:!0}},methods:{initFormData:function(e,r){var t=this;e.forEach((function(e){var o=e.__config__;e.__vModel__&&(r[e.__vModel__]=o.defaultValue),bindFunctionInAttr.call(t,e),o.children&&t.initFormData(o.children,r)}))},buildRules:function buildRules(componentList,rules){var _this5=this;componentList.forEach((function(cur){var config=cur.__config__;if(Array.isArray(config.regList)||(config.regList=[]),config.required){var required={required:config.required,message:cur.placeholder};Array.isArray(config.defaultValue)&&(required.type="array",required.message="请至少选择一个".concat(config.label)),void 0===required.message&&(required.message="".concat(config.label,"不能为空")),config.regList.push(required)}rules[cur.__vModel__]=config.regList.map((function(item){return item.pattern&&(item.pattern=eval(item.pattern)),item.trigger=ruleTrigger&&ruleTrigger[config.tag],item})),config.children&&_this5.buildRules(config.children,rules)}))},resetForm:function(){this.formConfCopy=Object(_utils_index__WEBPACK_IMPORTED_MODULE_7__["b"])(this.formConf),this.$refs[this.formConf.formRef].resetFields()},submitForm:function(){var e=this;this.$refs[this.formConf.formRef].validate((function(r){return!!r&&(e.$emit("submit",e[e.formConf.formModel]),!0)}))}},render:function(e){return renderFrom.call(this,e)}}},fb6a:function(e,r,t){"use strict";var o=t("23e7"),_=t("861d"),n=t("e8b5"),a=t("23cb"),i=t("50c4"),l=t("fc6a"),s=t("8418"),c=t("b622"),u=t("1dde"),f=t("ae40"),m=u("slice"),d=f("slice",{ACCESSORS:!0,0:0,1:2}),p=c("species"),h=[].slice,b=Math.max;o({target:"Array",proto:!0,forced:!m||!d},{slice:function(e,r){var t,o,c,u=l(this),f=i(u.length),m=a(e,f),d=a(void 0===r?f:r,f);if(n(u)&&(t=u.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)?_(t)&&(t=t[p],null===t&&(t=void 0)):t=void 0,t===Array||void 0===t))return h.call(u,m,d);for(o=new(void 0===t?Array:t)(b(d-m,0)),c=0;m<d;m++,c++)m in u&&s(o,c,u[m]);return o.length=c,o}})}}]);